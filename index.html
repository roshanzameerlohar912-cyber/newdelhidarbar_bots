
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>New Delhi Darbar - Order</title>

<style>
body { font-family: Arial; padding: 15px; }
h2 { margin-top: 25px; }
button { padding: 8px 12px; margin: 5px; }
select, input { padding: 6px; margin: 5px; }
.itemBox { border:1px solid #ddd; padding:10px; margin:5px 0; }
.total { font-size:18px; font-weight:bold; margin-top:10px; }
</style>
</head>
<body>

<h1>NEW DELHI DARBAR</h1>

<label>Select Table:</label>
<select id="table">
<option>Table 1</option>
<option>Table 2</option>
<option>Table 3</option>
<option>Table 4</option>
<option>Table 5</option>
<option>Table 6</option>
<option>Table 7</option>
<option>Table 8</option>
<option>Table 9</option>
<option>Table 10</option>
<option>Table 11</option>
<option>Table 12</option>
</select>
<label>L Table:</label>
<select id="table">
<option>Table 1</option>
<option>Table 2</option>
<option>Table 3</option>
<option>Table 4</option>
</select>

<label>Family Table:</label>
<select id="table">
<option>Table 1</option>
<option>Table 2</option>
<option>Table 3</option>
<option>Table 4</option>
</select>

<h2>Select Category</h2>
<select id="category" onchange="loadItems()">
<option value="">--Select--</option>
<option value="Rice">Rice</option>
<option value="veg Gravy">Veg Gravy</option>
<option value="veg starter">veg Starter</option>
<option value="egg Gravy">Egg Gravy</option>
<option value="egg starter">Egg starter</option>
<option value="chicken Gravy">Chicken Gravy</option>
<option value="chicken starter">Chicken Starter</option>
<option value="roti">Roti</option>
</select>

<div id="items"></div>

<h2>Bill</h2>
<div id="bill"></div>
<div class="total" id="total"></div>

<button onclick="submitBill()">Final Submit</button>

<script>
let menu = {
rice: [
Â Â Â Â {name:"Masala Rice", half:60, full:100},
Â Â Â Â {name:"Jeera Rice", half:60, full:100},
Â Â Â Â {name:"Veg Fried Rice", half:60, full:100},
Â Â Â Â {name:"Ghee Rice", half:70, full:130},
Â Â Â Â {name:"Lemon Rice", full:120},
Â Â Â Â {name:"Tomato Rice", full:120},
Â Â Â Â {name:"Paneer Fried Rice", full:140},
Â Â Â Â {name:"Egg Rice", half:60, full:100},
Â Â Â Â {name:"Egg Fried Rice", half:60, full:100},
Â Â Â Â {name:"Chicken Fried Rice", half:90, full:130}
Â Â Â Â {name:"chicken Schezwan rice", full:150},
Â Â Â Â {name:"Chicken dum biryani", half:90, full:130}
Â Â Â Â {name:"cord Rice", full:150},
Â Â Â Â {name:"dall khichdi", full:120},
Â Â Â Â {name:"palak dall khichdi", full:140},
Â Â Â Â {name:"mashroom fried Rice", full:140},
Â Â ],
Â veg Gravy: [
Â Â {name:"Paneer Tikka Masala", full:180},
Â Â {name:"Paneer Kolapuri", full:150},
Â Â {name:"Shahi Paneer", full:170},
Â Â {name:"Paneer Masala", full:150},
Â Â {name:"Betes Paneer Masala", full:180},
Â Â {name:"Palak Paneer", full:170},
Â Â {name:"Paneer Kadai", full:180},
Â Â {name:"Paneer Makhan Wala", full:170},
Â Â {name:"Mix Masala", full:130},
Â Â {name:"Veg Kolapuri", full:140},
Â Â {name:"Veg Makhan Wala", full:160},
Â Â {name:"Veg Kadai", full:150},
Â Â {name:"Dal Fry", half:50, full:100},
Â Â {name:"Dal Tadka", half:60, full:110},
Â Â {name:"Dal Kolapuri", half:60, full:110},
Â Â {name:"Madki Masala", half:60, full:100},
Â Â {name:"Madki Dry", full:120},
Â Â {name:"Dal Madki Mix", full:150},
Â Â {name:"Dal Makhan Wala", full:120},
Â Â {name:"Hyderabadi Cheese", full:160},
Â Â {name:"Cashew Nut Masala", full:150},
Â Â {name:"Cashew Nuts", full:150},
Â Â {name:"Kaju Hyderabadi", full:160},
Â Â {name:"Cashew Makhan Wala", full:180},
Â Â {name:"Cashew Cheese Mix", full:180},
Â Â {name:"Mushroom Masala", full:150},
Â Â {name:"Mushroom Kolapuri", full:160},
Â Â {name:"Mushroom Hyderabadi", full:170},
Â Â {name:"Mushroom Makhan Wala", full:170},
Â Â {name:"Mushroom Kadai", full:180}
Â Â ],
Veg starter:[
Â Â { name: "Paneer Chilly", full: 170 },
Â Â { name: "Paneer Manchurian", full: 170 },
Â Â { name: "Paneer Pepper Dry", full: 200 },
Â Â { name: "Mushroom Chilly", full: 200 },
Â Â { name: "Mushroom Manchurian", full: 200 },
Â Â { name: "Mushroom Pepper Dry", full: 200 },
{ name: "Paneer Mushroom Pepper Dry", full: 180 }
],
Â Â Â egg Gravy: [
Â Â Â Â {name:"Egg Masala", half:60, full:100},
Â Â Â Â {name:"Egg Kolapuri", half:60, full:100},
Â  Â Â {name:"Egg Kacha masala", half:60, full:100},
Â Â Â Â {name:"Egg Hyderabadi", full:120},
Â  Â Â {name:"Egg makhanwala ", full:150},
Â  Â Â {name:"Egg maharaja", full:150},
Â Â Â Â {name:"Egg Burji", full:50}
Â Â Â Â {name:"boild egg fry ", full:60}
Â Â ],
egg starter: [
{ name: "Egg Chilly", full: 150 },
Â Â { name: "Egg Manchurian", full: 150 },
Â Â { name: "Egg Pakoda", full: 180 },
Â Â { name: "Omelet", full: 50 },
Â Â { name: "Boiled Egg", full: 15 }
],
Â Â Â chicken Gravy: [
Â Â Â Â Â { name: "Chicken Kadai", threePcs: 130, sixPcs: 240, twelvePcs: 450 },
Â Â { name: "Chicken Tikka Masala", threePcs: 250, sixPcs: 250, twelvePcs: 450 },
Â Â { name: "Chicken Mughlai", threePcs: 130, sixPcs: 240, twelvePcs: 450 },
Â Â { name: "Chicken Maharaja", threePcs: 150, sixPcs: 280, twelvePcs: 550 },
Â Â { name: "Chicken Patiyala", threePcs: 150, sixPcs: 280, twelvePcs: 550 },
Â Â { name: "Chicken Guardian Masala", threePcs: 150, sixPcs: 280, twelvePcs: 550 },
Â Â { name: "Chicken Makhanwala", threePcs: 150, sixPcs: 280, twelvePcs: 550 },
Â Â { name: "Chicken Masala", threePcs: 100, sixPcs: 200, twelvePcs: 400 },
Â Â { name: "Chicken Kolhapuri", threePcs: 100, sixPcs: 200, twelvePcs: 400 },
Â Â { name: "Chicken Hyderabadi (New Delhi Darbar)", threePcs: 120, sixPcs: 230, twelvePcs: 450 }
Â Â ],
Chicken starter: [
Â Â Â Â  { name: "Chicken Don (6 pcs)", full: 230 },
Â Â { name: "Chicken Domestic (6 pcs)", full: 250 },
Â Â { name: "Chicken Lollipop (6 pcs)", full: 220 },
Â Â { name: "Chicken Majestic Boneless (10 pcs)", full: 250 },
Â Â { name: "Chicken Crispy Boneless (10 pcs)", full: 250 },
Â Â { name: "Chicken Dragon Boneless (10 pcs)", full: 250 },
Â Â { name: "Chicken 65 Boneless (10 pcs)", full: 200 },
Â Â { name: "Chicken Guardian Boneless (10 pcs)", full: 230 },
Â Â { name: "pepar dryBoneless (10 pcs)", full: 200 },
Â Â { name: "Garlic Chicken Boneless (10 pcs)", full: 220 },
Â Â { name: "Chicken Chilli Boneless (10 pcs)", full: 200 },
Â Â { name: "Chicken Manchurian (10 pcs)", full: 200 },
Â Â { name: "Chicken 555 (10 pcs)", full: 200 },
Â Â { name: "Chicken Kabab (10 pcs)", full: 140 }
],
Â roti: [
Â Â Â Â {name:"Tandoori Roti", full:15},
Â Â Â Â {name:"Butter Roti", full:20},
Â Â Â Â {name:"Butter Kulcha", full:30},
Â Â Â Â {name:"Jawari Roti", full:10}
Â Â ],
};
let billItems = {};

function loadItems(){
let cat = document.getElementById("category").value;
let itemsDiv = document.getElementById("items");
itemsDiv.innerHTML = "";

if(!menu[cat]) return;

menu[cat].forEach(item=>{
let div = document.createElement("div");
div.className="itemBox";

let sizeOptions="";
if(item.half) sizeOptions+=`<option value="${item.half}">Half â‚¹${item.half}</option>`;
if(item.full) sizeOptions+=`<option value="${item.full}">Full â‚¹${item.full}</option>`;

div.innerHTML=`
<b>${item.name}</b><br>
<select class="size">${sizeOptions}</select>
Qty: <input type="number" value="1" min="1" class="qty">
<button onclick="addToBill('${item.name}', this)">Add</button>
`;

itemsDiv.appendChild(div);
});
}

function addToBill(name, btn){

let parent = btn.parentElement;
let price = parseInt(parent.querySelector(".size").value);
let qty = parseInt(parent.querySelector(".qty").value);

let key = name + "_" + price;

if(billItems[key]){
billItems[key].qty += qty;
}else{
billItems[key] = { name:name, price:price, qty:qty };
}

renderBill();
}

function renderBill(){

let billDiv = document.getElementById("bill");
let totalDiv = document.getElementById("total");

billDiv.innerHTML="";
let grandTotal=0;

for(let key in billItems){

let item = billItems[key];
let itemTotal = item.price * item.qty;
grandTotal += itemTotal;

billDiv.innerHTML += `${item.name} x ${item.qty} = â‚¹${itemTotal}<br>`;
}

totalDiv.innerHTML="TOTAL = â‚¹"+grandTotal;
}

function submitBill(){

let table = document.getElementById("table").value;
let grandTotal = 0;
let lines = [];

for(let key in billItems){
let item = billItems[key];
let itemTotal = item.price * item.qty;
grandTotal += itemTotal;
lines.push(`${item.name} x ${item.qty} = â‚¹${itemTotal}`);
}

let message =
"ðŸ§¾ NEW DELHI DARBAR\n\n" +
table + "\n\n" +
lines.join("\n") +
"\n-----------------\nTOTAL = â‚¹" + grandTotal;

fetch('/api/bot',{
method:"POST",
headers:{'Content-Type':'application/json'},
body:JSON.stringify({bill:message})
}).then(()=>{
alert("Bill Sent Successfully!");
billItems = {};
renderBill();
});
}

</script>
</body>
</html>
